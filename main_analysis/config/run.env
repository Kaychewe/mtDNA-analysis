# Main analysis configuration
# Default paths (auto-corrected if invalid)
export PROJECT_ROOT="/mnt/f/research_drive/mtdna/leelab/mtDNA-analysis"
export ANALYSIS_ROOT="${PROJECT_ROOT}/main_analysis"
export RUNS_DIR="${ANALYSIS_ROOT}/runs"

# Cromwell
export PORTID=8094
export CROMWELL_STATUS_URL="http://localhost:${PORTID}/engine/v1/status"
export CROMWELL_RESTART_SCRIPT="${PROJECT_ROOT}/cromwell_restart.sh"

# Stage 01 files
export STAGE01_WDL="${PROJECT_ROOT}/stage01_subset_bam.wdl"
export STAGE01_JSON="${PROJECT_ROOT}/stage01_subset_bam.json"

# WDL dependencies
export WDL_DEPS_ZIP="${PROJECT_ROOT}/wdl_deps.zip"
export WDL_DEPS_SRC="${PROJECT_ROOT}/mtSwirl/WDL/v2.5_MongoSwirl_Single"

# Sample list directory (where sample_list*.txt, cram_file_list*.txt, crai_file_list*.txt live)
export LIST_DIR="${PROJECT_ROOT}/mtDNA_v25_pilot_5"

# Workspace settings (should already be set in AoU)
export WORKSPACE_BUCKET="${WORKSPACE_BUCKET:-}"
export GOOGLE_PROJECT="${GOOGLE_PROJECT:-}"

# Stage 02 uploads (optional local sources)
# If AUTO_UPLOAD_STAGE02_INPUTS=1, 00_preflight_check.sh will run the upload helper.
export AUTO_UPLOAD_STAGE02_INPUTS="${AUTO_UPLOAD_STAGE02_INPUTS:-0}"
export HAPLOCHECK_ZIP_LOCAL="${HAPLOCHECK_ZIP_LOCAL:-${PROJECT_ROOT}/mtSwirl/haplocheck.zip}"
export BLACKLIST_BED_LOCAL="${BLACKLIST_BED_LOCAL:-}"
export BLACKLIST_BED_IDX_LOCAL="${BLACKLIST_BED_IDX_LOCAL:-}"

# Stage 03 uploads (optional local sources)
# If AUTO_UPLOAD_STAGE03_INPUTS=1, 00_preflight_check.sh will run the upload helper.
export AUTO_UPLOAD_STAGE03_INPUTS="${AUTO_UPLOAD_STAGE03_INPUTS:-0}"
export FA_RENAMING_SCRIPT_LOCAL="${FA_RENAMING_SCRIPT_LOCAL:-${PROJECT_ROOT}/compatibilify_fa_intervals_consensus.R}"
export CHECK_VARIANT_BOUNDS_LOCAL="${CHECK_VARIANT_BOUNDS_LOCAL:-${PROJECT_ROOT}/check_variant_bounds.R}"
export CHECK_HOM_OVERLAP_LOCAL="${CHECK_HOM_OVERLAP_LOCAL:-${PROJECT_ROOT}/check_overlapping_homoplasmies.R}"
